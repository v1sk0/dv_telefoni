<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Add Service Location</title>
  </head>
  <body>
    <h1>Add Service Location</h1>
    <form action="/add_service_location" method="POST">
      <!-- Form fields and input elements here -->

      <label for="name">Name:</label>
      <input type="text" id="name" name="name" required /><br />

      <label for="address">Address:</label>
      <input type="text" id="address" name="address" required /><br />

      <label for="contact_phone">Contact Phone:</label>
      <input
        type="text"
        id="contact_phone"
        name="contact_phone"
        required
      /><br />

      <input type="submit" value="Add Service Location" />
    </form>

    <h1>List Service Locations</h1>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Address</th>
          <th>Contact Phone</th>
          <th>Actions</th>
          <!-- New column for Remove button -->
        </tr>
      </thead>
      <tbody>
        {% for location in service_locations %}
        <tr>
          <td>{{ location.name }}</td>
          <td>{{ location.address }}</td>
          <td>{{ location.contact_phone }}</td>
          <td>
            <button
              onclick="confirmRemoval('{{ location.name }}', {{ location.id }})"
            >
              Remove
            </button>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>

    <!-- Confirmation dialog for removal -->
    <div id="confirmation-dialog" style="display: none">
      <p>Are you sure you want to remove <span id="location-name"></span>?</p>
      <form
        action="/remove_service_location"
        method="POST"
        id="confirmation-form"
      >
        <input type="hidden" name="_method" value="DELETE" />
        <input type="hidden" name="location_id" id="location-id" value="" />
        <button type="submit">Yes, Remove</button>
        <button type="button" onclick="cancelRemoval()">Cancel</button>
      </form>
    </div>

    <script>
      function confirmRemoval(name, id) {
        document.getElementById("location-name").textContent = name;
        document.getElementById("location-id").value = id;
        document.getElementById("confirmation-dialog").style.display = "block";
      }

      function cancelRemoval() {
        document.getElementById("confirmation-dialog").style.display = "none";
      }
    </script>
  </body>
</html>
